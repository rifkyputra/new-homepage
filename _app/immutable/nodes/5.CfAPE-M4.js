import"../chunks/DsnmJJEf.js";import{ag as O,ah as W,u as X,a2 as j,O as E,N as o,a4 as A,Q as K,i as Y,n as Z,x,k as tt,z as m,B as f,m as g,A as h,D as et,y as q,a8 as st,C as rt,a9 as R}from"../chunks/7jZ7zA9w.js";import{i as k}from"../chunks/DhpeYoMj.js";import{N as at}from"../chunks/QhXGDYdU.js";import{G as it,F as ot}from"../chunks/BW8MN_JU.js";import{S as nt,s as lt,h as D,g as ut,n as U,a as ct,b as dt,t as F}from"../chunks/ltDVwG4M.js";import{M as mt}from"../chunks/DbQzGUYQ.js";var N=class extends nt{#e;#r=void 0;#t;#s;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#e.defaultMutationOptions(t),lt(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),e?.mutationKey&&this.options.mutationKey&&D(e.mutationKey)!==D(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(t){this.#a(),this.#i(t)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#a(),this.#i()}mutate(t,e){return this.#s=e,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(t)}#a(){const t=this.#t?.state??ut();this.#r={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){U.batch(()=>{if(this.#s&&this.hasListeners()){const e=this.#r.variables,u=this.#r.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#s.onSuccess?.(t.data,e,u,s)}catch(r){Promise.reject(r)}try{this.#s.onSettled?.(t.data,null,e,u,s)}catch(r){Promise.reject(r)}}else if(t?.type==="error"){try{this.#s.onError?.(t.error,e,u,s)}catch(r){Promise.reject(r)}try{this.#s.onSettled?.(void 0,t.error,e,u,s)}catch(r){Promise.reject(r)}}}this.listeners.forEach(e=>{e(this.#r)})})}};function ht(t){return ct()}function pt(t,e){switch(t){case"post":W(e);break;case"pre":O(e);break}}const I=(t,e,u)=>{let s=!1,r=Array.isArray(t)?[]:void 0;pt(e,()=>{const a=Array.isArray(t)?t.map(i=>i()):t();if(!s){s=!0,r=a;return}const v=X(()=>u(a,r));return r=a,v})};function bt(t,e){const u=A(()=>ht());let s=j(E(new N(o(u),t())));I(()=>o(u),"pre",()=>{K(s,new N(o(u),t()),!0)}),O(()=>{o(s).setOptions(t())});const r=(i,n)=>{o(s).mutate(i,n).catch(dt)};let a=j(E(o(s).getCurrentResult()));I(()=>o(s),"pre",()=>{K(a,o(s).getCurrentResult(),!0)}),O(()=>o(s).subscribe(n=>{U.batchCalls(()=>{Object.assign(o(a),n)})()}));const v=A(()=>new Proxy(o(a),{get:(i,n)=>{const l={...o(a),mutate:r,mutateAsync:o(a).mutate};return n=="value"?l:l[n]}}));return o(v)}var ft=x(`<div class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 text-center"><h2 class="text-2xl font-bold mb-2">Thanks — message sent ✅</h2> <p class="text-gray-300">I'll reply to you shortly.</p></div>`),gt=x('<p class="text-sm text-red-400"> </p>'),vt=x('<form class="space-y-4 bg-white/5 backdrop-blur-sm rounded-2xl p-8 border border-white/10"><div><label class="block text-sm font-medium text-gray-200 mb-2">Name</label> <input name="name" required class="w-full rounded-lg bg-transparent border border-white/20 px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"/></div> <div><label class="block text-sm font-medium text-gray-200 mb-2">Email</label> <input type="email" name="email" required class="w-full rounded-lg bg-transparent border border-white/20 px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"/></div> <div><label class="block text-sm font-medium text-gray-200 mb-2">Message</label> <textarea name="message" rows="6" required class="w-full rounded-lg bg-transparent border border-white/20 px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea></div> <!> <div class="flex items-center justify-between gap-4"><button type="submit" class="inline-flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed"><!> <!></button> <a href="mailto:rifkyadp@gmail.com" class="text-sm text-gray-300 hover:text-white">Or email me directly</a></div></form>'),yt=x(`<div class="flex justify-center pt-8"><!></div> <main class="container mx-auto px-6 py-12 text-white"><div class="text-center mb-12"><h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-white via-purple-200 to-purple-400 bg-clip-text text-transparent">Contact Me</h1> <p class="text-xl text-gray-300 max-w-2xl mx-auto">Got a project, question, or just want to say hi? Fill out the form below
        and I'll get back to you as soon as I can.</p></div> <section class="max-w-2xl mx-auto"><!></section> <!></main>`,1);function Ct(t,e){Y(e,!0);const u="https://rifky-backend.workers.dev";let s=!1,r=null;const a=bt(()=>({mutationFn:async i=>{const n=await fetch(`${u}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),l=await n.json();if(!n.ok||!l.success)throw new Error(l.error||"Something went wrong. Please try again.");return l},onSuccess:()=>{s=!0,r?.reset(),F.success("Message sent successfully!",{description:"I'll get back to you as soon as possible."})},onError:i=>{F.error("Failed to send message",{description:i.message||"Something went wrong. Please try again."})}}));async function v(i){i.preventDefault();const n=i.target;r=n;const l=new FormData(n),y={name:l.get("name")?.toString().trim()||"",email:l.get("email")?.toString().trim()||"",message:l.get("message")?.toString().trim()||""};a.mutate(y)}it(t,{class:"variant-purple",children:(i,n)=>{var l=yt(),y=tt(l),B=m(y);at(B,{}),h(y);var S=f(y,2),w=f(m(S),2),G=m(w);{var L=p=>{var b=ft();g(p,b)},Q=p=>{var b=vt(),M=f(m(b),6);{var z=c=>{var d=gt(),H=m(d,!0);h(d),q(()=>rt(H,a.error?.message||"An error occurred")),g(c,d)};k(M,c=>{a.isError&&c(z)})}var C=f(M,2),_=m(C),P=m(_);mt(P,{class:"w-4 h-4"});var J=f(P,2);{var V=c=>{var d=R("Sending...");g(c,d)},$=c=>{var d=R("Send message");g(c,d)};k(J,c=>{a.isPending?c(V):c($,!1)})}h(_),et(2),h(C),h(b),q(()=>_.disabled=a.isPending),st("submit",b,v),g(p,b)};k(G,p=>{s?p(L):p(Q,!1)})}h(w);var T=f(w,2);ot(T,{class:"mt-20"}),h(S),g(i,l)},$$slots:{default:!0}}),Z()}export{Ct as component};
