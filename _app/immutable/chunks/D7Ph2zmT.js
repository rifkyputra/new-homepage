import"./DsnmJJEf.js";import{ae as C,af as Q,u as Y,a1 as y,N as E,M as o,a3 as I,O as p,o as z,f as _,B as P,b,w as J,c as v,r as g,s as S,ag as V,C as G,a6 as B}from"./B3q_-_dE.js";import{p as H,i as O}from"./EJWUz-6v.js";import{s as W,d as X}from"./D6C0qYO-.js";import{b as Z}from"./Lx_1CDmV.js";import{S as $,s as tt,h as j,g as et,n as R,a as st,b as rt,t as K}from"./DCd5YGBH.js";import{M as ot}from"./CXadxZfw.js";var q=class extends ${#e;#r=void 0;#t;#s;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#e.defaultMutationOptions(t),tt(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),e?.mutationKey&&this.options.mutationKey&&j(e.mutationKey)!==j(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#a(t)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#o(),this.#a()}mutate(t,e){return this.#s=e,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(t)}#o(){const t=this.#t?.state??et();this.#r={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){R.batch(()=>{if(this.#s&&this.hasListeners()){const e=this.#r.variables,n=this.#r.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#s.onSuccess?.(t.data,e,n,r)}catch(s){Promise.reject(s)}try{this.#s.onSettled?.(t.data,null,e,n,r)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#s.onError?.(t.error,e,n,r)}catch(s){Promise.reject(s)}try{this.#s.onSettled?.(void 0,t.error,e,n,r)}catch(s){Promise.reject(s)}}}this.listeners.forEach(e=>{e(this.#r)})})}};function at(t){return st()}function it(t,e){switch(t){case"post":Q(e);break;case"pre":C(e);break}}const A=(t,e,n)=>{let r=!1,s=Array.isArray(t)?[]:void 0;it(e,()=>{const l=Array.isArray(t)?t.map(m=>m()):t();if(!r){r=!0,s=l;return}const h=Y(()=>n(l,s));return s=l,h})};function nt(t,e){const n=I(()=>at());let r=y(E(new q(o(n),t())));A(()=>o(n),"pre",()=>{p(r,new q(o(n),t()),!0)}),C(()=>{o(r).setOptions(t())});const s=(m,c)=>{o(r).mutate(m,c).catch(rt)};let l=y(E(o(r).getCurrentResult()));A(()=>o(r),"pre",()=>{p(l,o(r).getCurrentResult(),!0)}),C(()=>o(r).subscribe(c=>{R.batchCalls(()=>{Object.assign(o(l),c)})()}));const h=I(()=>new Proxy(o(l),{get:(m,c)=>{const x={...o(l),mutate:s,mutateAsync:o(l).mutate};return c=="value"?x:x[c]}}));return o(h)}var lt=_(`<div class="bg-[#f8f8f8] backdrop-blur-sm rounded-2xl p-6 border border-[#d8d8d8] text-center"><h2 class="text-2xl font-bold mb-2 text-[#080808]">Thanks â€” message sent</h2> <p class="text-[#9c9c9c]">I'll reply to you shortly.</p></div>`),ut=_(`<p class="text-sm text-red-500 font-['IBM_Plex_Mono']"> </p>`),ct=_(`<form class="space-y-4"><div><label for="name" class="block text-xs font-semibold font-['IBM_Plex_Mono'] text-[#080808] mb-2">Name</label> <input type="text" id="name" name="name" required class="w-full px-4 py-2 bg-[#f8f8f8] border border-[#d8d8d8] rounded text-xs font-['IBM_Plex_Mono'] text-[#080808] placeholder:text-[#757575] focus:outline-none focus:border-[#3f8e00]" placeholder="Your name"/></div> <div><label for="email" class="block text-xs font-semibold font-['IBM_Plex_Mono'] text-[#080808] mb-2">Email</label> <input type="email" id="email" name="email" required class="w-full px-4 py-2 bg-[#f8f8f8] border border-[#d8d8d8] rounded text-xs font-['IBM_Plex_Mono'] text-[#080808] placeholder:text-[#757575] focus:outline-none focus:border-[#3f8e00]" placeholder="your@email.com"/></div> <div><label for="message" class="block text-xs font-semibold font-['IBM_Plex_Mono'] text-[#080808] mb-2">Message</label> <textarea id="message" name="message" rows="5" required class="w-full px-4 py-2 bg-[#f8f8f8] border border-[#d8d8d8] rounded text-xs font-['IBM_Plex_Mono'] text-[#080808] placeholder:text-[#757575] focus:outline-none focus:border-[#3f8e00] resize-none" placeholder="Your message..."></textarea></div> <!> <button type="submit" class="inline-flex items-center justify-center gap-2 px-6 py-4 bg-[#3f8e00] hover:bg-[#2d6600] border border-[#62ba1b] rounded text-white font-bold font-['IBM_Plex_Mono'] text-sm shadow-[0px_8px_30px_0px_rgba(63,142,0,0.3)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"><!> <!></button></form>`),dt=_("<div><!></div>");function gt(t,e){z(e,!0);const n="https://rifky-backend.rifqempul.workers.dev";let r=H(e,"class",3,""),s=y(null),l=y(!1);const h=nt(()=>({mutationFn:async a=>{const i=await fetch(`${n}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),d=await i.json();if(!i.ok||!d.success)throw new Error(d.error||"Something went wrong. Please try again.");return d},onSuccess:()=>{p(l,!0),o(s)?.reset(),K.success("Message sent successfully!",{description:"I'll get back to you as soon as possible."}),e.onSuccess?.()},onError:a=>{K.error("Failed to send message",{description:a.message||"Something went wrong. Please try again."})}}));function m(a){a.preventDefault();const i=a.target;p(s,i,!0);const d=new FormData(i),M={name:d.get("name")?.toString().trim()||"",email:d.get("email")?.toString().trim()||"",message:d.get("message")?.toString().trim()||""};h.mutate(M)}var c=dt(),x=v(c);{var D=a=>{var i=lt();b(a,i)},N=a=>{var i=ct(),d=S(v(i),6);{var M=u=>{var f=ut(),T=v(f,!0);g(f),P(()=>G(T,h.error?.message||"An error occurred")),b(u,f)};O(d,u=>{h.isError&&u(M)})}var w=S(d,2),k=v(w);ot(k,{class:"w-4 h-4"});var F=S(k,2);{var U=u=>{var f=B("Sending...");b(u,f)},L=u=>{var f=B("Submit");b(u,f)};O(F,u=>{h.isPending?u(U):u(L,!1)})}g(w),g(i),Z(i,u=>p(s,u),()=>o(s)),P(()=>w.disabled=h.isPending),V("submit",i,m),b(a,i)};O(x,a=>{o(l)?a(D):a(N,!1)})}g(c),P(()=>W(c,1,X(r()))),b(t,c),J()}export{gt as C};
